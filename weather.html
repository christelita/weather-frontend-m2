<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="Assets/styles.css">
  <title>Weather Frontend - MÃ³dulo 2</title>

  <!-- Bootstrap CSS (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    /* PequeÃ±os ajustes */
    .city-card { cursor:pointer; transition: transform .12s; }
    .city-card:hover { transform: translateY(-4px); }
    .temp-large { font-size: 4rem; font-weight: 800; }
    @media (max-width:420px){
      .temp-large { font-size: 2.2rem; }
    }
  </style>
</head>
<body>
  <header class="bg-primary text-white shadow-sm" 
style="background: linear-gradient(90deg, #0b6623, #b40000); border-bottom: 3px solid gold;">
    <nav class="container navbar navbar-expand-lg navbar-dark">
      <a class="navbar-brand" href="#" style="position: relative;">
        <strong>  â˜€ï¸ ElğŸŒ¦ï¸ tiempo en elğŸŒğŸ„ </strong>
      
         <span style="
    position: absolute;
    top: -10px;
    left: -15px;
    font-size: 1.4rem;
    transform: rotate(-20deg);
  ">ğŸ…</span>
  </a>
  <!--BotÃ³n de hamburguesa-->
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>
      <!--MenÃº-->
      <div class="collapse navbar-collapse" id="navMenu">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#home" style="text-shadow: 0 0 4px yellowgreen; font-weight:800; text-decoration-color: #0b6623;"> ğŸ®Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#about" style="text-shadow: 0 0 4px yellowgreen; font-weight:800;"> ğŸ’« Acerca</a></li>
        </ul>
      </div>
    </nav>
</header>
<div class="reno-corriendo">ğŸ¦ŒğŸ</div>



  <main class="container my-4" id="main">
    <!-- HOME -->
    <section id="home-view">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="h4">Ciudades</h1>
        <div>
          <small class="text-muted">Muestra de datos (mock). Haz clic en una card para ver detalle.</small>
        </div>
      </div>

      <div id="cities-grid" class="row g-3">
        <!-- Cards se inyectan desde JS -->
      </div>
    </section>

    <!-- DETAIL -->
    <section id="detail-view" class="d-none">
      <button id="back-btn" class="btn btn-link mb-3"><i class="bi bi-arrow-left"></i> Volverâ¬…ï¸</button>
      <article class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-md-4 text-center border-end">
              <h2 id="detail-name" class="mb-1"></h2>
              <div id="detail-icon" class="mb-1"></div>
              <div class="temp-large" id="detail-temp"></div>
              <div id="detail-state" class="text-muted"></div>
            </div>
            <div class="col-md-8">
              <ul class="list-group mb-3">
                <li class="list-group-item"><strong>HumedadğŸ’§:</strong> <span id="detail-humidity"></span></li>
                <li class="list-group-item"><strong>VientoğŸŒ¬ï¸:</strong> <span id="detail-wind"></span></li>
                <li class="list-group-item"><strong>Lat, Lon:</strong> <span id="detail-coords"></span></li>
              </ul>

              <h5>PronÃ³stico semanalğŸ—“ï¸</h5>
              <div id="weekly-forecast" class="row g-2">
                <!-- forecast cards -->
              </div>
            </div>
          </div>
        </div>
        <div class="card-footer text-muted">
          Datos ficticios â€” reemplazar con APIS.
        </div>
      </article>
    </section>

    <!-- ABOUT -->
    <section id="about" class="mt-4">
      <h2 class="h5">Acerca</h2>
      <p class="text-muted">Proyecto MVP del mÃ³dulo 2. ImplementaciÃ³n con HTML5 semÃ¡ntico, Bootstrap y JS para interacciones bÃ¡sicas. Repo: <em>weather-frontend-m2</em>.</p>
    </section>
  </main>

  <footer class="bg-light text-center py-3 mt-4">
    <small>Weather Frontend - MÃ³dulo 2 â€¢ Entrega educativa â€¢ Hecho con ğŸ’™</small>
  </footer>

  <!-- Bootstrap JS (CDN bundle includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
  /***********************
   * Datos mock (â‰¥10)
   * Cada ciudad tiene: id, name, temp, state, humidity, wind, coords, weekly[]
   ***********************/
  const CITIES = [
    { id: "scl", name: "Santiago, CL", temp: 18, state: "Parcialmente nublado", humidity: 60, wind: "8 km/h", coords: "-33.45, -70.66",
      weekly: mockWeek() },
    { id: "nyc", name: "New York, US", temp: 12, state: "Soleado", humidity: 50, wind: "10 km/h", coords: "40.71, -74.00", weekly: mockWeek() },
    { id: "lon", name: "London, UK", temp: 9, state: "Lluvioso", humidity: 75, wind: "12 km/h", coords: "51.51, -0.13", weekly: mockWeek() },
    { id: "tok", name: "Tokyo, JP", temp: 20, state: "Nublado", humidity: 68, wind: "6 km/h", coords: "35.68, 139.69", weekly: mockWeek() },
    { id: "syd", name: "Sydney, AU", temp: 24, state: "Soleado", humidity: 55, wind: "14 km/h", coords: "-33.86, 151.21", weekly: mockWeek() },
    { id: "par", name: "Paris, FR", temp: 11, state: "Llovizna", humidity: 72, wind: "9 km/h", coords: "48.85, 2.35", weekly: mockWeek() },
    { id: "rio", name: "Rio de Janeiro, BR", temp: 28, state: "Soleado", humidity: 65, wind: "11 km/h", coords: "-22.90, -43.20", weekly: mockWeek() },
    { id: "ber", name: "Berlin, DE", temp: 10, state: "Parcialmente nublado", humidity: 67, wind: "7 km/h", coords: "52.52, 13.40", weekly: mockWeek() },
    { id: "msc", name: "Moscow, RU", temp: -2, state: "FrÃ­o", humidity: 80, wind: "15 km/h", coords: "55.75, 37.62", weekly: mockWeek() },
    { id: "cph", name: "Copenhagen, DK", temp: 7, state: "Viento", humidity: 70, wind: "20 km/h", coords: "55.68, 12.57", weekly: mockWeek() }
  ];

  function mockWeek(){
    // genera 7 dÃ­as ficticios
    const days = [];
    const states = ["Soleado","Nublado","Lluvioso","Parcialmente nublado","Tormenta","Llovizna","Ventoso"];
    for(let i=0;i<7;i++){
      days.push({
        day: new Date(Date.now() + i*86400000).toLocaleDateString('es-CL',{weekday:'short', day:'numeric', month:'short'}),
        max: Math.round(Math.random()*15+5),
        min: Math.round(Math.random()*7-5),
        state: states[Math.floor(Math.random()*states.length)]
      });
    }
    return days;
  }

  /* RENDER HOME (cards) */
  const grid = document.getElementById('cities-grid');
  function renderHome(){
    grid.innerHTML = '';
    CITIES.forEach(city => {
      const col = document.createElement('div');
      col.className = 'col-12 col-sm-6 col-md-4 col-lg-3';

      col.innerHTML = `
        <article class="card city-card h-100" data-id="${city.id}" role="button" tabindex="0">
  <img src="Assets/cities/${city.id}.png" class="card-img-top city-img" alt="${city.name}">
  <div class="card-body d-flex flex-column justify-content-between">
    <div>
      <h5 class="card-title">${city.name}</h5>
      <p class="card-text text-muted mb-1">${city.state}</p>
    </div>
    <div class="d-flex justify-content-between align-items-center mt-3">
      <div class="fs-4 fw-bold">${city.temp}Â°C</div>
      <span class="badge bg-info text-dark">${city.humidity}%</span>
    </div>
  </div>
</article>

      `;
      grid.appendChild(col);

      // evento click
      col.querySelector('.city-card').addEventListener('click', () => {
        location.hash = '#city=' + city.id;
      });
      // accesibilidad: enter para abrir
      col.querySelector('.city-card').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') location.hash = '#city=' + city.id;
      });
    });
  }

  /* RENDER DETAIL */
  function renderDetail(city){
    document.getElementById('detail-name').textContent = city.name;
    document.getElementById('detail-temp').textContent = city.temp + 'Â°C';
    document.getElementById('detail-state').textContent = city.state;
    document.getElementById('detail-humidity').textContent = city.humidity + '%';
    document.getElementById('detail-wind').textContent = city.wind;
    document.getElementById('detail-coords').textContent = city.coords;
    document.getElementById('detail-icon').innerHTML = `<i class="bi bi-cloud-sun-fill" style="font-size:2.2rem"></i>`;

    const weekly = document.getElementById('weekly-forecast');
    weekly.innerHTML = '';
    city.weekly.forEach(day => {
      const col = document.createElement('div');
      col.className = 'col-6 col-md-4';
      col.innerHTML = `
        <div class="card">
          <div class="card-body p-2 text-center">
            <div class="small text-muted">${day.day}</div>
            <div class="fw-bold">${day.max}Â° / ${day.min}Â°</div>
            <div class="small text-muted">${day.state}</div>
          </div>
        </div>
      `;
      weekly.appendChild(col);
    });
  }

  /* Vistas y routing simple */
  const homeView = document.getElementById('home-view');
  const detailView = document.getElementById('detail-view');
  const backBtn = document.getElementById('back-btn');
  backBtn.addEventListener('click', () => { location.hash = '#home'; });

  function showHome(){
    homeView.classList.remove('d-none');
    detailView.classList.add('d-none');
    document.getElementById('about').scrollIntoView({behavior:'smooth'});
  }
  function showDetail(city){
    homeView.classList.add('d-none');
    detailView.classList.remove('d-none');
    document.getElementById('main').scrollIntoView({behavior:'smooth'});
    renderDetail(city);
  }

  function handleHash(){
    const hash = location.hash || '#home';
    if (hash.startsWith('#city=')){
      const id = hash.split('=')[1];
      const city = CITIES.find(c => c.id === id);
      if (city) showDetail(city);
      else showHome();
    } else {
      showHome();
      renderHome();
    }
  }

  // inicializar
  window.addEventListener('hashchange', handleHash);
  window.addEventListener('load', () => {
    renderHome();
    handleHash();
  });

  </script>
  <script>
for (let i = 0; i < 40; i++) {
  const snowflake = document.createElement("div");
  snowflake.classList.add("snowflake");
  snowflake.innerHTML = "â„";
  snowflake.style.left = Math.random() * 100 + "vw";
  snowflake.style.animationDuration = 2 + Math.random() * 5 + "s";
  snowflake.style.fontSize = (10 + Math.random() * 20) + "px";
  document.body.appendChild(snowflake);
}
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="Assets/cities.js"></script>
<div class="papa-noel">ğŸ…</div>

</body>
</html>
